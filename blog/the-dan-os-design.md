---
title: Dan OS 设计
author: flytreleft
author_title: Creator of Crazydan Studio
author_url: https://flytreeleft.org
author_image_url: /img/avatar/flytreeleft.svg
tags:
- Dan OS
- 软件基础设施
- 新操作系统
- 数据结构化
- 应用函数化
description:
image:
---

> Dan OS 的设计仍在逐步改进与完善中，本文将随时发生变化，感兴趣的朋友们可以时刻保持关注。

`Dan OS`（也称为**蛋 OS**）是一款面向**结构化数据**和**函数化应用**的操作系统。

`Dan OS` 试图以**破局者**的身份，对当前的软件开发基础发起挑战，并提出其所认为的行之有效的、富有改革性的改进方案，
以实现从底层彻底（但不一定绝对）优化**软件基础设施**，让软件开发能够摆脱**思想枷锁**、卸下**历史包袱**，
从而向未来加速前进。

这不是一场「你生我灭」的斗争和较量，而是「后浪推前浪」的数字**进化与变革**。

`Dan OS` 必然是在基于前辈们大量的工作之上而诞生的，也必然是饱含「敬畏之心」的，
她也不会野心勃勃地去推翻一切以重建一个「乌邦托」的世界，她只是在以自己的行动向世人表明其对数字世界的变革之心，
并期望能够有更多人参与到这场变革之中，贡献出自己的想法与力量，让未来的数字世界变得更加美好。

<!-- more -->

## 应对挑战

### 数据交互中的编解码

文件和数据格式繁多，集几代人智慧的结晶，每种格式都有丰富的生态，
但却造成了大量的人力资源和计算资源的浪费，格式之间的转换、数据的解析等需要做大量重复劳动，
存在大量潜在的缺陷和漏洞，一直处于高维护成本状态

### 应用生态的割裂与封闭

各个生态间应用的优秀成果无法实现共享，

> 共享指应用间相互调用数据处理接口、用户交互接口等，为用户提供一致且便利的体验，并非拿来并据为己有

数据在应用内、系统中没有唯一链接，不能直达目标数据，需要通过多个层次的跳转才能看到数据

以应用为中心的生态，导致数据存储格式、数据处理方式、数据查找机制、数据展现风格等各异，
且各自构建并形成封闭的生态，数据分享与共享存在严重的壁垒，商业围墙越筑越深。

- 用户体验各异
- 应用切换成本高昂
-

### 用户数据的所有权与控制权

去中心化只是附属产物，其也不是与中心化完全对立。只是为了让数据的所有者能够对自己的数据拥有更多的控制权和处置权，
让中心化服务商对用户数据更有敬畏之心，厂商之间能够更加良性竞争。

「去中心化」不是目的，而是将数据所有权、控制权和处置权归还数据所有者的结果。

为了实现该结果，应用可以是去中心化的，也可以是中心化的，或者二者相结合，数据存储可以是分布式，也可以集中式。

数据所有者对数据的权利，就像是你对自己所拥有的实物的权利，只能由你自己决定所属物该如何使用和处理，其他人均无权干预，甚至都不知道其存在。

### 软件开发中的重复踩坑

前人遇过的坑，后人又不得不继续踩坑，软件开发史就是一部「血泪踩坑史」。

排雷成果难以共享和直接使用，阻碍共同进步。

各个项目均需要开发大量逻辑类似（但有些许差异）的组件，尽管各种开发语言都有很多框架，但都会引入不同程度的入门难度、开发复杂度，以及各种缺陷。

### 生产环境与测试环境的差异

测试环境难以复现生产环境中出现的问题，克隆完全的生产环境需要消耗大量的时间和人力成本。

### 软件开发中的依赖问题

- 依赖版本变更问题
- 依赖复杂度问题
- 依赖引入缺陷及缺陷修复问题

### 变更回溯与灾备

- 应用断点恢复，零重启、零准备

### 应用与数据安全

- 应用隔离
- 权限最小化，权限控制到函数及数据属性
- 数据加密
- 数据访问跟踪

## 功能特性

- 一切皆为结构化数据：数据自带结构，消除编解码
- 统一且一致的分布式层：开放，连接，协作，共享
- 统一且一致的数据存取层：高存取性能，规模无关
- 统一且一致的程序语言：消除程序碎片化与应用隔离，强制共建互利生态
- 统一且一致的开发界面：数据定义及引用界面；函数编写界面；应用配置界面；数据查询界面；用户端组装界面；
- 应用程序函数化，函数可共享，可迁移：减少重造的轮子，成果共享（仅结果非资产共享），实现生态内互利
- 函数及数据版本化：依赖升级无破坏性，变更可跟踪可回溯
- 应用间运行环境完全隔离，以消息交换数据，权限最小化
- 中断的应用可从中断位置继续运行：灾难恢复
- 原生且默认的数据加密
- 在自身这端提供对旧世界的接入层，该接入层以原有方式与其对接，再对收到的数据结构化后，返回给调用端（反之为该过程的逆过程），系统提供通用的对接支持和相应的工具

## 架构设计

<img src="/img/danos/arch-v1.0.jpg" alt="Dan OS 架构 v1.0" height="600px"/>

## 相关阅读

- [一种新的操作系统设计](http://www.yinwang.org/blog-cn/2013/04/14/os-design):
  转载文章在[这里](./a-new-os-design-by-wangyin)。
- [Pick Operating System](https://en.wikipedia.org/wiki/Pick_operating_system):
  A demand-paged, multiuser, virtual memory, time-sharing computer operating system
  based around a MultiValue database.


:::info Copyright
- 文章作者: flytreeleft - [flytreeleft@crazydan.org](mailto:flytreeleft@crazydan.org)
- 版权声明: 本文章采用许可协议 [署名 4.0 国际 (CC BY 4.0)](https://creativecommons.org/licenses/by/4.0/)。
  转载请注明来自 [Crazydan Studio](https://studio.crazydan.org/)！
:::
